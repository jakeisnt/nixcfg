#!/usr/bin/env nix-shell
#! nix-shell -p ruby -i "ruby"
#
# Given a list of lines from `stdin`, allow the user to pick one of them interactively.
# The selected line is printed to `stdout`.

require 'bundler/inline'

gemfile do
  source 'https://rubygems.org'
  gem 'cli-ui'
end

require 'cli/ui'

def cli
  CLI::UI.ask('Select one') do |handler|
    gets(nil).split("\n").each do |opt|
      handler.option(opt) { puts "selected" }
    end
  end
end

# TODO: the interactive menu likely uses stdin in some way.
# figure out how fzf avoids it!`
cli

# vi: ft=ruby
